(()=>{var e={};e.id=920,e.ids=[920],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(5770),s(4699),s(1506),s(5866);var n=s(3191),a=s(8716),r=s(7922),i=s.n(r),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["admin",{children:["albums",{children:["[albumId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5770)),"/home/Kokenstaging/web/clients.chasing.media/client-proofing/frontend/app/admin/albums/[albumId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4699)),"/home/Kokenstaging/web/clients.chasing.media/client-proofing/frontend/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/home/Kokenstaging/web/clients.chasing.media/client-proofing/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/Kokenstaging/web/clients.chasing.media/client-proofing/frontend/app/admin/albums/[albumId]/page.tsx"],m="/admin/albums/[albumId]/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/albums/[albumId]/page",pathname:"/admin/albums/[albumId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8421:(e,t,s)=>{Promise.resolve().then(s.bind(s,4482))},4047:(e,t,s)=>{Promise.resolve().then(s.bind(s,4738))},2785:()=>{},545:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},4482:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var n=s(326),a=s(7577),r=s(5047);function i(){let e=Number((0,r.useParams)().albumId),[t,s]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),c=async()=>{try{let t=localStorage.getItem("admin_token"),s=await fetch("http://clients.chasing.media:3700/admin/session/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({album_id:e})});if(!s.ok)throw Error("Failed to create session");let n=await s.json();alert(`Magic Link Generated:
${n.magic_url}`)}catch(e){alert(e.message),console.error(e)}};return i?n.jsx("p",{children:"Loading albumâ€¦"}):o?n.jsx("p",{className:"text-red-600",children:o}):t?(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-xl font-semibold mb-4",children:t.title}),n.jsx("button",{className:"bg-black text-white px-4 py-2 rounded",onClick:c,children:"Generate Magic Link"}),n.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"Images"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.images?.map(e=>n.jsx("div",{className:"border rounded overflow-hidden",children:n.jsx("img",{src:e.public_url,alt:"",className:"w-full h-auto"})},e.id))}),n.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"Existing Sessions"}),n.jsx("div",{className:"space-y-2",children:t.sessions.map(e=>(0,n.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Token:"})," ",e.token]}),(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Email:"})," ",e.email||"(none yet)"]}),(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Date:"})," ",e.created_at]})]},e.id))})]}):n.jsx("p",{children:"Album not found."})}},4738:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var n=s(326),a=s(434),r=s(5047);function i(){let e=(0,r.useRouter)();return(0,n.jsxs)("aside",{className:"w-64 bg-white shadow-md p-4 space-y-4",children:[n.jsx("h1",{className:"text-xl font-bold mb-4",children:"Admin"}),(0,n.jsxs)("nav",{className:"flex flex-col space-y-2",children:[n.jsx(a.default,{href:"/admin/dashboard",className:"text-neutral-700 hover:text-black",children:"Dashboard"}),n.jsx(a.default,{href:"/admin/albums",className:"text-neutral-700 hover:text-black",children:"Albums"}),n.jsx(a.default,{href:"/admin/sessions",className:"text-neutral-700 hover:text-black",children:"Sessions"}),n.jsx("button",{onClick:()=>{localStorage.removeItem("admin_token"),e.push("/admin/login")},className:"text-left text-red-600 hover:text-red-800 mt-4",children:"Logout"})]})]})}},434:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var n=s(9404),a=s.n(n)},5047:(e,t,s)=>{"use strict";var n=s(7389);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},5770:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(8570).createProxy)(String.raw`/home/Kokenstaging/web/clients.chasing.media/client-proofing/frontend/app/admin/albums/[albumId]/page.tsx#default`)},4699:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(9510);s(1159);let a=(0,s(8570).createProxy)(String.raw`/home/Kokenstaging/web/clients.chasing.media/client-proofing/frontend/app/admin/components/AdminNav.tsx#default`);function r({children:e}){return(0,n.jsxs)("div",{className:"min-h-screen flex bg-neutral-100",children:[n.jsx(a,{}),n.jsx("main",{className:"flex-1 p-6",children:e})]})}},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r,metadata:()=>a});var n=s(9510);s(7272);let a={title:"Client Proofing",description:"Private proofing gallery"};function r({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:"bg-darkbg text-black",children:e})})}},7272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[819,404],()=>s(4037));module.exports=n})();